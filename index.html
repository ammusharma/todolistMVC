<!DOCTYPE html>
<html lang="en" ng-app="todoApp">

<head>
    <meta charset="UTF-8">
    <title>TODO Task Application</title>
    <link rel="stylesheet" type="text/css" href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css' />
    <link rel="stylesheet" href="./app.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.8/angular.js" type="text/javascript"></script>
</head>

<body>
    <div class="container ng-cloak" ng-controller="todoController as tdc">
        <div class="jumbotron" id="todoApp">
            <header>
                <h2 class="text-center">Todo Application</h2>
            </header>
            <section class="margin-bottom">
                <form name="frm" ng-submit="tdc.addTask();" class="form-inline">
                    <div class="form-group">
                        <input type="text" ng-model="tdc.newTask" required class="form-control" placeholder="New Task Todo..." />
                    </div>
                    <button ng-disabled="frm.$invalid" class="btn btn-primary" type="submit">Add</button>
                </form>
            </section>
            <section>
                <table class="table table-bodered table-striped" ng-if="0 != tdc.tasks.length ">
                    <thead>
                        <th class="text-center">ID</th>
                        <th>Title</th>
                        <th class="text-center">Completed</th>
                        <th class="text-center">Remove</th>
                    </thead>
                    <tbody>
                        <tr ng-repeat="task in tdc.tasks track by $index">
                            <td class="text-center" ng-class="{'complete': task.isCompleted}" ng-bind="$index+1"></td>
                            <td ng-class="{'complete': task.isCompleted}"><span ng-dblclick="tdc.editContent()" contentEditable="false" ng-blur="tdc.saveOnBlur()" ng-keydown="tdc.editOnEnter(task)" ng-bind="task.name"></span>
                            </td>
                            <td class="text-center">
                                <input type="checkbox" ng-model="task.isCompleted" />
                            </td>
                            <td class="text-center"><a ng-click="tdc.removeTask(task)"><i class="glyphicon glyphicon-remove"></i></a></td>
                        </tr>
                    </tbody>
                </table>
            </section>
            <div class="alerts">
                <div class="taskCount alert alert-info" ng-if="tdc.tasks.length > 0"><strong>{{tdc.remainCount()}}</strong> of <strong>{{tdc.tasks.length}} </strong>remaining!</div>
                <p ng-if="tdc.tasks.length == 0" class="alert alert-success">No Task Added Yet!</p>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="./main.js"></script>
</body>

</html>
